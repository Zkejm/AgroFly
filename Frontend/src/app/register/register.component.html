<div class="register-container">
  <div class="success-popup" *ngIf="showSuccessPopup">
    <div class="popup-content">
      <div class="popup-icon">
        <svg width="60" height="60" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="12" cy="12" r="10" fill="#16a34a"/>
          <path d="M9 12l2 2 4-4" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
      <h3 class="popup-title">Registrácia úspešná!</h3>
      <p class="popup-message">Vaša registrácia bola úspešne dokončená. Presmerovávame vás na prihlasovaciu stránku...</p>
    </div>
  </div>
  <div class="register-form-container">
    <h2 class="form-title">REGISTRAČNÝ FORMULÁR</h2>
    
    <form class="register-form" (ngSubmit)="onRegister()">
      <div class="form-group">
        <label for="fullName">Meno a priezvisko</label>
        <input 
          type="text" 
          id="fullName" 
          name="fullName"
          placeholder="Krátky popis" 
          [(ngModel)]="fullName"
          required
        />
      </div>

      <div class="form-group">
        <label for="companyName">Názov firmy</label>
        <input 
          type="text" 
          id="companyName" 
          name="companyName"
          placeholder="Krátky popis" 
          [(ngModel)]="companyName"
        />
      </div>

      <div class="form-group">
        <label for="companyId">IČO</label>
        <input 
          type="text" 
          id="companyId" 
          name="companyId"
          placeholder="Krátky popis" 
          [(ngModel)]="companyId"
        />
      </div>

      <div class="form-group">
        <label for="taxId">DIČ</label>
        <input 
          type="text" 
          id="taxId" 
          name="taxId"
          placeholder="Krátky popis" 
          [(ngModel)]="taxId"
        />
      </div>

      <div class="form-group">
        <label for="vatId">IČ DPH/PLATCA DPH</label>
        <input 
          type="text" 
          id="vatId" 
          name="vatId"
          placeholder="Krátky popis" 
          [(ngModel)]="vatId"
        />
      </div>

      <div class="form-group">
        <label for="address">Adresa</label>
        <input 
          type="text" 
          id="address" 
          name="address"
          placeholder="Krátky popis" 
          [(ngModel)]="address"
        />
      </div>

      <div class="form-group">
        <label for="email">Email</label>
        <input 
          type="email" 
          id="email" 
          name="email"
          placeholder="Krátky popis" 
          [(ngModel)]="email"
          required
        />
      </div>

      <div class="form-group">
        <label for="phone">Tel. kontakt</label>
        <input 
          type="tel" 
          id="phone" 
          name="phone"
          placeholder="Krátky popis" 
          [(ngModel)]="phone"
        />
      </div>

      <div class="form-group">
        <label for="username">Uživateľské meno</label>
        <input 
          type="text" 
          id="username" 
          name="username"
          placeholder="Krátky popis" 
          [(ngModel)]="username"
          required
        />
      </div>

      <div class="form-group">
        <label for="password">Heslo</label>
        <div class="password-input-wrapper">
          <input 
            [type]="showPassword ? 'text' : 'password'" 
            id="password" 
            name="password"
            placeholder="Krátky popis" 
            [(ngModel)]="password"
            required
          />
          <button 
            type="button" 
            class="password-toggle" 
            (click)="togglePasswordVisibility()"
            aria-label="Toggle password visibility"
          >
            <svg *ngIf="!showPassword" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
              <path d="M3 3L21 21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            <svg *ngIf="showPassword" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="form-group">
        <label for="repeatPassword">Zopakuj heslo</label>
        <div class="password-input-wrapper">
          <input 
            [type]="showRepeatPassword ? 'text' : 'password'" 
            id="repeatPassword" 
            name="repeatPassword"
            placeholder="Krátky popis" 
            [(ngModel)]="repeatPassword"
            required
          />
          <button 
            type="button" 
            class="password-toggle" 
            (click)="toggleRepeatPasswordVisibility()"
            aria-label="Toggle password visibility"
          >
            <svg *ngIf="!showRepeatPassword" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
              <path d="M3 3L21 21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            <svg *ngIf="showRepeatPassword" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="consent-section">
        <div class="consent-item">
          <label class="checkbox-label">
            <input 
              type="checkbox" 
              [(ngModel)]="consentPersonalData"
              name="consentPersonalData"
            />
            <span class="checkmark"></span>
            Súhlasim so spracovaním osobných údajov
          </label>
        </div>

        <div class="consent-item">
          <label class="checkbox-label">
            <input 
              type="checkbox" 
              [(ngModel)]="consentTerms"
              name="consentTerms"
            />
            <span class="checkmark"></span>
            Súhlasím s obchodnými podmienkami
          </label>
        </div>

        <div class="consent-item">
          <label class="checkbox-label">
            <input 
              type="checkbox" 
              [(ngModel)]="consentMarketing"
              name="consentMarketing"
            />
            <span class="checkmark"></span>
            Súhlasím so zasielanim reklamných správ
          </label>
        </div>
      </div>

      <button type="submit" class="btn-register">Zaregistrovať</button>
    </form>
  </div>

  <div class="register-visual">
    <div class="register-visual-background"></div>
    <h1 class="register-title">REGISTRÁCIA</h1>
    <div class="register-logo">
      <div class="drone-icon">
        <svg width="80" height="80" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="50" cy="50" r="48" fill="#90EE90" stroke="white" stroke-width="4"/>
          <path d="M30 45L50 30L70 45L50 50L30 45Z" fill="white"/>
          <path d="M30 55L50 70L70 55L50 50L30 55Z" fill="white"/>
          <circle cx="50" cy="50" r="10" fill="#4CAF50"/>
          <circle cx="50" cy="50" r="6" fill="white"/>
        </svg>
      </div>
      <span class="drone-text">DRONE</span>
    </div>
  </div>
</div>

